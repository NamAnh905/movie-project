<div class="bar">
  <h2>Quản lý rạp</h2>
  <div class="actions">
    <input [(ngModel)]="q" placeholder="Tìm theo tên rạp" (keyup.enter)="onSearch()">
    <button class="btn" (click)="onSearch()">Tìm</button>

    <div class="divider"></div>

    <a class="primary" [routerLink]="['/admin/cinemas/new']">+ Thêm rạp</a>
  </div>
</div>

<table class="tbl" *ngIf="items.length; else empty">
  <thead>
    <tr>
      <th style="width:80px">ID</th>
      <th>Tên rạp</th>
      <th>Địa chỉ</th>
      <th style="width:160px">Trạng thái</th>
      <th style="width:160px">Hành động</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let c of items">
      <td>{{ c.id }}</td>
      <td><input [(ngModel)]="c.name"></td>
      <td><input [(ngModel)]="c.address"></td>
      <td>
        <select [(ngModel)]="c.status">
          <option value="ACTIVE">ACTIVE</option>
          <option value="INACTIVE">INACTIVE</option>
        </select>
      </td>
      <td class="ops">
        <a class="edit" (click)="update(c)">Sửa</a>
        <button class="danger" (click)="remove(c.id)">Xóa</button>
      </td>
    </tr>
  </tbody>
</table>

<ng-template #empty>
  <div class="empty">Chưa có dữ liệu</div>
</ng-template>

<div class="pager" *ngIf="totalPages > 1">
  <div class="info">
    Trang <b>{{ page + 1 }}</b>/<b>{{ totalPages }}</b> · <span>{{ totalElements }}</span> rạp
  </div>
  <div class="controls">
    <button class="btn" [disabled]="page === 0" (click)="goTo(0)">«</button>
    <button class="btn" [disabled]="page === 0" (click)="prev()">‹</button>
    <button class="btn num" *ngFor="let p of pager" [class.active]="p === page" (click)="goTo(p)">{{ p + 1 }}</button>
    <button class="btn" [disabled]="page >= totalPages - 1" (click)="next()">›</button>
    <button class="btn" [disabled]="page >= totalPages - 1" (click)="goTo(totalPages - 1)">»</button>
  </div>
</div>
