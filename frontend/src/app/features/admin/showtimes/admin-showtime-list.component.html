<div class="wrap">
  <h1>üé¨ L·ªãch chi·∫øu ‚Äì Danh s√°ch</h1>

  <div class="filters">
    <div>
      <label>Ng√†y</label>
      <input type="date" [(ngModel)]="date">
    </div>
    <div>
      <label>Phim</label>
      <select [(ngModel)]="movieId">
        <option [ngValue]="null">-- T·∫•t c·∫£ --</option>
        <option *ngFor="let m of movies" [ngValue]="m.id">{{ m.title }}</option>
      </select>
    </div>
    <div>
      <label>R·∫°p</label>
      <select [(ngModel)]="cinemaId">
        <option [ngValue]="null">-- T·∫•t c·∫£ --</option>
        <option *ngFor="let c of cinemas" [ngValue]="c.id">{{ c.name }}</option>
      </select>
    </div>
    <button class="btn" (click)="search()">T√¨m</button>
    <button class="btn primary" (click)="goCreate()">+ Th√™m m·ªõi</button>
  </div>

  <div class="hint" *ngIf="loading">ƒêang t·∫£i...</div>
  <div class="hint" *ngIf="!loading && !items.length">Kh√¥ng c√≥ d·ªØ li·ªáu.</div>

  <table *ngIf="!loading && items.length">
    <thead>
      <tr>
        <th>#</th>
        <th>Ng√†y</th>
        <th>Gi·ªù</th>
        <th>Phim</th>
        <th>R·∫°p</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let it of items; index as i; trackBy: trackById">
        <td>{{ i + 1 }}</td>
        <td>{{ startDate(it) }}</td>
        <td>{{ startTime(it) }}</td>
        <td>{{ getMovieName(it) }}</td>
        <td>{{ getCinemaName(it) }}</td>
        <td>
          <button class="btn danger" (click)="remove(it)">X√≥a</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="pager" *ngIf="!loading && totalPages > 1">
    <button class="pg" (click)="prev()" [disabled]="page === 0">‚Äπ</button>

    <button class="pg"
            *ngFor="let p of pages"
            [class.active]="p === page"
            (click)="goPage(p)">
      {{ p + 1 }}
    </button>

    <button class="pg" (click)="next()" [disabled]="page >= totalPages - 1">‚Ä∫</button>

  </div>
</div>
